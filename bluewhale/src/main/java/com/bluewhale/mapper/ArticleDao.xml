<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bluewhale.mapper.ArticleDao">
	<!-- 查询文章总数 -->
	<select id="getArticleTotal" resultType="Integer">
		select count(*) from blog_article
	</select>
	
	<!-- 添加文章 -->
	<insert id="addArticle" parameterType="article" keyProperty="id" useGeneratedKeys="true"> 
		insert into blog_article(title,type,content,htmlcontent,ownerid,submitdata,comment) 
			values(#{title},#{type},#{content},#{htmlcontent},#{ownerid},#{submitdata},#{comment})
	</insert>
	
	<!-- 通过id查询文章 -->
	<select id="getArticleById" parameterType="Integer" resultType="article">
		select * from blog_article
		<where>
			id = #{value}
		</where>
	</select>
	
	<!-- 通过id删除文章 -->
	<delete id="deleteArticleById" parameterType="Integer">
		delete from blog_article
		<where>
			id = #{value}
		</where>
	</delete>
	
	<!-- 查询文章 -->
	<select id="getArticle" parameterType="queryVo" resultType="article">
		select * from blog_article limit #{beginIndex},#{pageSize}
	</select>

</mapper>